<!DOCTYPE html>
<html>
<head>
    <title>Javascript Lab thingy</title>
    <script src="javaforpage.js"></script>
    <script>
        function charizardCount() {
            var chars = document.getElementById("textBox").value.length;
            document.getElementById("count").innerHTML = "<p>" + chars + " characters</p>";
        }

        function makeSave() {
            var states = [];

            var position = 0;

            return {
                save: function() {
                    position = 0;
                    if (states.length >= 5) {
                        states.splice(4,1);
                    }
                    var toAdd = "" + document.getElementById("textBox").value + "";
                    states.push(toAdd);
                },

                undo: function() {
                    if (position >= states.length) {
                        alert("you dumbass that's too far.");
                    }else{
                        document.getElementById("textBox").innerHTML = states[position++];
                    }
                },

                redo: function() {
                    if (position <= 0) {
                        alert("wow shit-wad can't redo.")
                    }else{
                        document.getElementById("textBox").innerHTML = states[position--];
                    }
                }
            }

        }
        var state = makeSave();
    </script>
</head>
<body>
    <form>
        <input type="button" value="Display Character Count" onclick="charizardCount()" /> <br />
    </form>

    <div id="count">
        <p>0 characters</p>
    </div>

    <form>
        <textarea id="textBox" rows="10" cols="100"></textarea>
    </form>

    <form>
        <input type="button" value="Save" onclick="state.save()" />
        <input type="button" value="Undo" onclick="state.undo()" />
        <input type="button" value="Redo" onclick="state.redo()" />
    </form>

</body>
</html>